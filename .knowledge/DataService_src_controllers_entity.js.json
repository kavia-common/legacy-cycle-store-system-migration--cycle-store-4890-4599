{"is_source_file": true, "format": "JavaScript", "description": "This file defines controller functions for handling CRUD operations and migration processes for entities in a web API, including validation, auditing, and transaction management.", "external_files": ["../db", "../models", "../validation/schemas", "../utils/responses"], "external_methods": ["sequelize.transaction", "getModelByEntityName", "getSchemaByEntity", "ok", "error", "req.audit"], "published": ["listEntities", "getEntity", "createEntity", "updateEntity", "deleteEntity", "validateEntityData", "migrateImport", "migrateExport"], "classes": [], "methods": [{"name": "listEntities(req, res)", "description": "Retrieves a list of entities for a specified collection, with support for pagination.", "scope": "", "scopeKind": ""}, {"name": "getEntity(req, res)", "description": "Retrieves a single entity record by its primary key.", "scope": "", "scopeKind": ""}, {"name": "createEntity(req, res)", "description": "Creates a new entity record, with optional schema validation and audit logging.", "scope": "", "scopeKind": ""}, {"name": "updateEntity(req, res)", "description": "Updates an existing entity record by primary key, with validation and audit logging.", "scope": "", "scopeKind": ""}, {"name": "deleteEntity(req, res)", "description": "Deletes an entity record by primary key, with audit logging.", "scope": "", "scopeKind": ""}, {"name": "validateEntityData(req, res)", "description": "Validates provided data against the entity's validation schema.", "scope": "", "scopeKind": ""}, {"name": "migrateImport(req, res)", "description": "Imports legacy data into the system from a specified source, tracking migration status.", "scope": "", "scopeKind": ""}, {"name": "migrateExport(req, res)", "description": "Exports data for a specified entity, with optional filtering.", "scope": "", "scopeKind": ""}], "calls": ["Model.findAll", "Model.findByPk", "Model.create", "Model.update", "Model.destroy", "sequelize.transaction", "getModelByEntityName", "getSchemaByEntity", "req.audit"], "search-terms": ["entity controller", "migration handlers", "CRUD operations", "validation schemas", "transaction management", "entity models", "legacy data import/export"], "state": 2, "file_id": 20, "knowledge_revision": 39, "git_revision": "", "ctags": [{"_type": "tag", "name": "createEntity", "path": "/home/kavia/workspace/code-generation/legacy-cycle-store-system-migration--cycle-store-4890-4599/DataService/src/controllers/entity.js", "pattern": "/^async function createEntity(req, res) {$/", "language": "JavaScript", "kind": "function", "signature": "(req, res)"}, {"_type": "tag", "name": "deleteEntity", "path": "/home/kavia/workspace/code-generation/legacy-cycle-store-system-migration--cycle-store-4890-4599/DataService/src/controllers/entity.js", "pattern": "/^async function deleteEntity(req, res) {$/", "language": "JavaScript", "kind": "function", "signature": "(req, res)"}, {"_type": "tag", "name": "getEntity", "path": "/home/kavia/workspace/code-generation/legacy-cycle-store-system-migration--cycle-store-4890-4599/DataService/src/controllers/entity.js", "pattern": "/^async function getEntity(req, res) {$/", "language": "JavaScript", "kind": "function", "signature": "(req, res)"}, {"_type": "tag", "name": "listEntities", "path": "/home/kavia/workspace/code-generation/legacy-cycle-store-system-migration--cycle-store-4890-4599/DataService/src/controllers/entity.js", "pattern": "/^  listEntities,$/", "language": "JavaScript", "kind": "field", "scope": "module.exports", "scopeKind": "class"}, {"_type": "tag", "name": "listEntities", "path": "/home/kavia/workspace/code-generation/legacy-cycle-store-system-migration--cycle-store-4890-4599/DataService/src/controllers/entity.js", "pattern": "/^async function listEntities(req, res) {$/", "language": "JavaScript", "kind": "function", "signature": "(req, res)"}, {"_type": "tag", "name": "migrateExport", "path": "/home/kavia/workspace/code-generation/legacy-cycle-store-system-migration--cycle-store-4890-4599/DataService/src/controllers/entity.js", "pattern": "/^async function migrateExport(req, res) {$/", "language": "JavaScript", "kind": "function", "signature": "(req, res)"}, {"_type": "tag", "name": "migrateImport", "path": "/home/kavia/workspace/code-generation/legacy-cycle-store-system-migration--cycle-store-4890-4599/DataService/src/controllers/entity.js", "pattern": "/^async function migrateImport(req, res) {$/", "language": "JavaScript", "kind": "function", "signature": "(req, res)"}, {"_type": "tag", "name": "updateEntity", "path": "/home/kavia/workspace/code-generation/legacy-cycle-store-system-migration--cycle-store-4890-4599/DataService/src/controllers/entity.js", "pattern": "/^async function updateEntity(req, res) {$/", "language": "JavaScript", "kind": "function", "signature": "(req, res)"}, {"_type": "tag", "name": "validateEntityData", "path": "/home/kavia/workspace/code-generation/legacy-cycle-store-system-migration--cycle-store-4890-4599/DataService/src/controllers/entity.js", "pattern": "/^async function validateEntityData(req, res) {$/", "language": "JavaScript", "kind": "function", "signature": "(req, res)"}], "hash": "9b98e71012a350b8e3b5e23c8531f5fa", "format-version": 4, "code-base-name": "DataService", "filename": "DataService/src/controllers/entity.js", "fields": [{"name": "listEntities,", "scope": "module.exports", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"39": ""}]}